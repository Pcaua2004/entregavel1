<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alternar Modos: Java e JavaScript</title>
  <style>
    body {
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #e0f2e9;
    }
    #top-buttons {
        margin-top: 20px;
    }
    button {
        padding: 15px 30px;
        margin: 10px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 25px;
        border: none;
        transition: background-color 0.3s, transform 0.3s;
    }
    button:hover {
        transform: scale(1.05);
    }
    #vertical-buttons {
        display: flex;
        flex-direction: column;
        margin-top: 40px;
    }
    .java-mode button {
        background-color: #006400;
        color: white;
    }
    .javascript-mode button {
        background-color: #32CD32;
        color: white;
    }
    .java-mode {
        background-color: #004b23;
    }
    .javascript-mode {
        background-color: #228b22;
    }
    .java-mode #mode-java, .javascript-mode #mode-javascript {
        background-color: #fff;
        color: #000;
        font-weight: bold;
    }
  </style>
</head>
<body class="javascript-mode">

<div id="top-buttons">
  <button id="mode-java" onclick="switchMode('java')">Java</button>
  <button id="mode-javascript" onclick="switchMode('javascript')">JavaScript</button>
</div>

<div id="vertical-buttons">
  <button id="button1" onclick="executeFunction(1)">Somatório</button>
  <button id="button2" onclick="executeFunction(2)">PrimoChecker</button>
  <button id="button3" onclick="executeFunction(3)">Quicksort</button>
  <button id="button4" onclick="executeFunction(4)">Calculador de MDC</button>
  <button id="button5" onclick="executeFunction(5)">Gerador de Fibonacci</button>
  <button id="button6" onclick="executeFunction(6)">Contagem de Valores</button>
</div>

<script>
  let currentMode = 'javascript';

  function switchMode(mode) {
      currentMode = mode;
      let body = document.body;
      if (mode === 'java') {
          body.classList.remove('javascript-mode');
          body.classList.add('java-mode');
      } else if (mode === 'javascript') {
          body.classList.remove('java-mode');
          body.classList.add('javascript-mode');
      }
  }

  function executeFunction(buttonNumber) {
      if (currentMode === 'javascript') {
          switch (buttonNumber) {
              case 1:
                  somatorio();
                  break;
              case 2:
                  primoChecker();
                  break;
              case 3:
                  quicksort();
                  break;
              case 4:
                  calcularMdc();
                  break;
              case 5:
                  fibonacci();
                  break;
              case 6:
                  contagem();
                  break;
          }
      } else if (currentMode === 'java') {
          switch (buttonNumber) {
            case 1:
                window.open('https://www.jdoodle.com/ia/1kvd', '_blank');
                break;
            case 2:
                window.open('https://www.jdoodle.com/ia/1kvb', '_blank');
                break;
            case 3:
                window.open('https://www.jdoodle.com/ia/1kvc', '_blank');
                break;
            case 4:
                window.open('https://www.jdoodle.com/ia/1kva', '_blank');
                break;
            case 5:
                window.open('https://www.jdoodle.com/ia/1kv9', '_blank');
                break;
            case 6:
                window.open('https://www.jdoodle.com/ia/1kv8', '_blank');
                break;
          }
      }
  }

  function somatorio() {
      let input = prompt("Digite os números que você quer somar, separados por espaço.\nEx.: 10 20 30");
      let numeros = input.split(" ");
      let soma = 0;
      for (let i = 0; i < numeros.length; i++) {
          soma += parseInt(numeros[i]);
      }
      alert("A soma dos números é: " + soma);
  }

  function primoChecker() {
      while (true) {
          let numero = parseInt(prompt("Digite um número:"));
          let divisores = 0;
          for (let count = 1; count <= numero; count++) {
              if (numero % count === 0) {
                  divisores++;
              }
          }
          if (divisores === 2) {
              alert(numero + " é primo!");
              break;
          } else {
              alert(numero + " não é primo, tente novamente.");
          }
      }
  }

  function quicksort() {
      let input = prompt("Digite os números que você deseja ordenar, separados por espaço:\nEx.: 10 3 5 2 8:");
      let array = input.split(" ").map(Number);
      quicksortHelper(array, 0, array.length - 1);
      alert("Array ordenado: " + array.join(" "));
  }

  function quicksortHelper(array, inicio, fim) {
      if (inicio < fim) {
          let indiceParticao = particionar(array, inicio, fim);
          quicksortHelper(array, inicio, indiceParticao - 1);
          quicksortHelper(array, indiceParticao + 1, fim);
      }
  }

  function particionar(array, inicio, fim) {
      let pivo = array[fim];
      let i = inicio - 1;
      for (let j = inicio; j < fim; j++) {
          if (array[j] <= pivo) {
              i++;
              [array[i], array[j]] = [array[j], array[i]];
          }
      }
      [array[i + 1], array[fim]] = [array[fim], array[i + 1]];
      return i + 1;
  }

  function calcularMdc() {
      while (true) {
          let entrada = prompt("Digite o valor de A e B separados por espaço.\nEx.: 15 20:");
          let valores = entrada.split(" ");
          if (valores.length !== 2) {
              alert("Entrada inválida. Por favor, digite dois números separados por espaço.");
              continue;
          }
          let a = parseInt(valores[0]);
          let b = parseInt(valores[1]);
          let menor = Math.min(a, b);
          let mdc = 1;
          for (let i = 1; i <= menor; i++) {
              if (a % i === 0 && b % i === 0) {
                  mdc = i;
              }
          }
          alert("O MDC de " + a + " e " + b + " é " + mdc + "!");
          break;
      }
  }

  function fibonacci() {
      let N;
      while (true) {
          N = parseInt(prompt("Digite quantos números (N) seu Fibonacci terá!\nOBS: N > 1:"));
          if (N > 1) {
              break;
          } else {
              alert("O número deve ser maior que 1. Tente novamente.");
          }
      }
      let a = 0, b = 1;
      let resultado = "Sequência de Fibonacci até " + N + " termos:\n";
      for (let i = 0; i < N; i++) {
          resultado += a + " ";
          let proximoTermo = a + b;
          a = b;
          b = proximoTermo;
      }
      alert(resultado);
  }

  function contagem() {
    let input = prompt("Digite uma série de números separados por espaço.\nExemplo: 5 10 15 20 25\nEsses números serão usados para verificar quantos estão dentro de um intervalo específico.");
    let numeros = input.split(" ").map(Number);
    let n = parseInt(prompt("Agora, digite o valor de N (limite superior do intervalo).\nVerificaremos quantos números do conjunto estão entre o primeiro número e N."));
    let primeiroNumero = numeros[0];
    let contagem = 0;
    numeros.forEach(function(num) {
        if (num >= primeiroNumero && num <= n) {
            contagem++;
        }
    });
    alert("Há " + contagem + " valores entre " + primeiroNumero + " e " + n + ".");
 }


</script>

</body>
</html>
